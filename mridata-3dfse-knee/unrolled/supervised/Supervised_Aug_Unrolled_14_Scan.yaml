# Inherit fields from the unrolled.yaml config.
_BASE_: "../../templates/unrolled.yaml"
# DATALOADER has 14 supervised scan
DATALOADER:
  SUBSAMPLE_TRAIN:
    NUM_TOTAL: 14
    NUM_UNDERSAMPLED: 0
OUTPUT_DIR: results://vortex/mridata_knee_3dfse/unrolled/supervised/supervised_aug_unrolled_14_scan
DESCRIPTION:
  BRIEF: f"Supervised Aug Unrolled 14 Scan {AUG_TRAIN.UNDERSAMPLE.ACCELERATIONS}x mridata - {MODEL.SSDU.MASKER.PARAMS.kind}/loss={MODEL.RECON_LOSS.NAME}"
  EXP_NAME: vortex/mridata_knee_3dfse/unrolled/supervised_aug_14_scan
  TAGS:
  - baseline
  - supervised 
  - 14_scan 
  - 16x
  - mridata_knee_3dfse
  - unrolled
# For no motion aug, A2R and Consistency was removed.
# For Unrolled, made META_ARCHITECTURE GeneralizedUnrolledCNN
MODEL:
  A2R:
    META_ARCHITECTURE: GeneralizedUnrolledCNN 
    USE_SUPERVISED_CONSISTENCY: false  # TUNE 
  CONSISTENCY:
    AUG:
      MRI_RECON:
        AUG_SENSITIVITY_MAPS: true
        SCHEDULER_P:
          IGNORE: false
        TRANSFORMS:
        - name: RandomMRIMotion 
          p: 0.2
          std_devs:
          - 0.2
          - 0.5
          use_mask: true
    LOSS_NAME: l1
    LOSS_WEIGHT: 0.1
    USE_CONSISTENCY: true  
  META_ARCHITECTURE: GeneralizedUnrolledCNN
  RECON_LOSS:
    NAME: l1
    RENORMALIZE_DATA: false
  SSDU:
    MASKER:
      PARAMS: {}
    META_ARCHITECTURE: GeneralizedUnrolledCNN
VERSION: 1